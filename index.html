<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金種計算</title>
    <style>
        body {
            font-family: sans-serif;
            background: #f0f8ff;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        .header {
            position: sticky;
            top: 0;
            background: #e0f7fa;
            padding: 10px;
            font-size: 24px;
            font-weight: bold;
            z-index: 10;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
        }

        .timestamp {
            font-size: 14px;
            color: #555;
        }

        button {
            font-size: 14px;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            margin: 5px;
            cursor: pointer;
        }

        #clearBtn {
            background: #ffcdd2;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 5px;
            padding: 5px;
        }

        .cell {
            background: #e3f2fd;
            padding: 5px;
            border-radius: 5px;
            font-size: 14px;
        }

        input[type="number"] {
            width: 60px;
            font-size: 16px;
            text-align: right;
            padding: 2px;
        }
    </style>
</head>
<body>
    <div class="header" id="total">0</div>
    <div class="controls">
        <div class="timestamp" id="now"></div>
        <button id="clearBtn" onclick="clearAll()">クリア</button>
    </div>
    <div class="grid">
        <div class="cell">一万円札<br><input type="number" id="yen10000" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">五千円札<br><input type="number" id="yen5000" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">二千円札<br><input type="number" id="yen2000" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">千円札<br><input type="number" id="yen1000" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">五百円玉<br><input type="number" id="yen500" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">百円玉<br><input type="number" id="yen100" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">五十円玉<br><input type="number" id="yen50" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">十円玉<br><input type="number" id="yen10" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">五円玉<br><input type="number" id="yen5" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
        <div class="cell">一円玉<br><input type="number" id="yen1" value="0" min="0" inputmode="numeric" onfocus="this.select()" onchange="calc()"></div>
    </div>
    <script>
        const rate = {
            yen10000: 10000,
            yen5000: 5000,
            yen2000: 2000,
            yen1000: 1000,
            yen500: 500,
            yen100: 100,
            yen50: 50,
            yen10: 10,
            yen5: 5,
            yen1: 1
        };

        function calc() {
            let total = 0;
            for (const id in rate) {
                const val = parseInt(document.getElementById(id).value) || 0;
                total += val * rate[id];
            }
            const totalEl = document.getElementById("total");
            totalEl.textContent = total.toLocaleString();
            totalEl.style.backgroundColor = "#dcedc8";
            setTimeout(() => totalEl.style.backgroundColor = "#e0f7fa", 200);
        }

        function clearAll() {
            for (const id in rate) {
                document.getElementById(id).value = 0;
            }
            calc();
        }

        function updateNow() {
            const now = new Date();
            const txt = now.toLocaleString("ja-JP", { hour12: false });
            document.getElementById("now").textContent = txt;
        }

        updateNow();
        calc();
    </script>
</body>
</html>

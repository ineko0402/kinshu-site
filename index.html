<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>金種入力アプリ</title>
<style>
  body {
    background: #eef7fc;
    font-family: sans-serif;
    text-align: center;
    padding: 20px;
  }
  h1 {
    background: #e0f0c8;
    font-size: 2em;
    padding: 10px;
    margin-bottom: 10px;
  }
  .totalsum {
    margin: 12px 0;
    line-height: 1.6;
    font-size: 16px;
  }
  .buttons {
    margin-bottom: 20px;
  }
  button {
    margin: 5px;
    padding: 10px 16px;
    font-size: 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
  }
  .btn-clear {
    background: pink;
  }
  .btn-toggle {
    background: #d0ebff;
  }
  .btn-download {
    background: #d2f7d2;
  }
  .section {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 15px;
    gap: 10px;
  }
  .input-group {
    background: #e8f4fc;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    min-width: 100px;
  }
  .input-group input {
    font-size: 16px;
    text-align: right;
    width: 60px;
    padding: 4px;
  }
  .screenshot-buffer {
    height: 40px;
  }
</style>
</head>
<body>

<div id="shot-area">
  <h1 id="total">25,000</h1>
  <div class="totalsum">
    2025/05/19 06:07:38<br>
    札: 5枚 / 硬貨: 0枚 / 合計: 5枚
  </div>
  <div class="buttons">
    <button class="btn-clear">クリア</button>
    <button class="btn-toggle">二千円札を使用する</button>
    <button class="btn-download">ダウンロード</button>
  </div>

  <div class="section">
    <div class="input-group">
      <label>一万円札</label><br><input type="number" value="0">
    </div>
    <div class="input-group">
      <label>五千円札</label><br><input type="number" value="5">
    </div>
    <div class="input-group">
      <label>二千円札</label><br><input type="number" value="0">
    </div>
    <div class="input-group">
      <label>千円札</label><br><input type="number" value="0">
    </div>
  </div>

  <div class="section">
    <div class="input-group">
      <label>五百円玉</label><br><input type="number" value="0">
    </div>
    <div class="input-group">
      <label>百円玉</label><br><input type="number" value="0">
    </div>
    <div class="input-group">
      <label>五十円玉</label><br><input type="number" value="0">
    </div>
    <div class="input-group">
      <label>十円玉</label><br><input type="number" value="0">
    </div>
    <div class="input-group">
      <label>五円玉</label><br><input type="number" value="0">
    </div>
    <div class="input-group">
      <label>一円玉</label><br><input type="number" value="0">
    </div>
  </div>

  <div class="screenshot-buffer"></div>
</div>

<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
  document.querySelector('.btn-download').addEventListener('click', () => {
    const shotArea = document.getElementById('shot-area');
    const buffer = document.createElement('div');
    buffer.className = 'screenshot-buffer';
    buffer.style.height = '40px';
    shotArea.appendChild(buffer);

    html2canvas(shotArea).then(canvas => {
      const link = document.createElement('a');
      link.download = 'screenshot.png';
      link.href = canvas.toDataURL();
      link.click();
      buffer.remove();
    });
  });
</script>

</body>
</html>
